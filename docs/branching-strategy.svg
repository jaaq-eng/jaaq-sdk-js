<svg width="1200" height="900" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
    <marker id="arrowhead-green" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#10b981" />
    </marker>
    <marker id="arrowhead-blue" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#3b82f6" />
    </marker>
    <marker id="arrowhead-purple" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#8b5cf6" />
    </marker>
    <marker id="arrowhead-red" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#ef4444" />
    </marker>
  </defs>
  
  <rect width="1200" height="900" fill="#ffffff"/>
  
  <text x="600" y="40" font-family="Arial, sans-serif" font-size="28" font-weight="bold" text-anchor="middle" fill="#1f2937">
    JAAQ SDK Branching Strategy
  </text>
  
  <text x="600" y="70" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#6b7280">
    Three-branch workflow with environment-specific deployments
  </text>
  
  <g id="main-branch">
    <rect x="100" y="120" width="1000" height="120" rx="10" fill="#10b98110" stroke="#10b981" stroke-width="2"/>
    <text x="120" y="150" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#059669">
      main (Development)
    </text>
    <text x="120" y="175" font-family="Arial, sans-serif" font-size="13" fill="#047857">
      • Feature branches merge here
    </text>
    <text x="120" y="195" font-family="Arial, sans-serif" font-size="13" fill="#047857">
      • Manual version bump workflow
    </text>
    <text x="120" y="215" font-family="Arial, sans-serif" font-size="13" fill="#047857">
      • Manual deployment: 1.2.3-dev-a1b2c3d-20240118
    </text>
  </g>
  
  <g id="staging-branch">
    <rect x="100" y="300" width="1000" height="120" rx="10" fill="#3b82f610" stroke="#3b82f6" stroke-width="2"/>
    <text x="120" y="330" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#2563eb">
      staging (Staging)
    </text>
    <text x="120" y="355" font-family="Arial, sans-serif" font-size="13" fill="#1d4ed8">
      • PR from main triggers deployment
    </text>
    <text x="120" y="375" font-family="Arial, sans-serif" font-size="13" fill="#1d4ed8">
      • Auto-deploy with RC version
    </text>
    <text x="120" y="395" font-family="Arial, sans-serif" font-size="13" fill="#1d4ed8">
      • Published: 1.2.3-rc-a1b2c3d-20240118 (@rc tag)
    </text>
  </g>
  
  <g id="production-branch">
    <rect x="100" y="480" width="1000" height="120" rx="10" fill="#8b5cf610" stroke="#8b5cf6" stroke-width="2"/>
    <text x="120" y="510" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#7c3aed">
      production (Production)
    </text>
    <text x="120" y="535" font-family="Arial, sans-serif" font-size="13" fill="#6d28d9">
      • PR from staging triggers deployment
    </text>
    <text x="120" y="555" font-family="Arial, sans-serif" font-size="13" fill="#6d28d9">
      • Clean version + Git tag
    </text>
    <text x="120" y="575" font-family="Arial, sans-serif" font-size="13" fill="#6d28d9">
      • Published: 1.2.3 (@latest tag) + v1.2.3 tag
    </text>
  </g>
  
  <line x1="600" y1="240" x2="600" y2="290" stroke="#3b82f6" stroke-width="3" marker-end="url(#arrowhead-blue)"/>
  <text x="620" y="270" font-family="Arial, sans-serif" font-size="12" fill="#3b82f6" font-weight="bold">
    PR merge
  </text>
  
  <line x1="600" y1="420" x2="600" y2="470" stroke="#8b5cf6" stroke-width="3" marker-end="url(#arrowhead-purple)"/>
  <text x="620" y="450" font-family="Arial, sans-serif" font-size="12" fill="#8b5cf6" font-weight="bold">
    PR merge
  </text>
  
  <g id="feature-flow">
    <rect x="100" y="650" width="280" height="220" rx="8" fill="#f9fafb" stroke="#d1d5db" stroke-width="1"/>
    <text x="240" y="680" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#1f2937">
      Feature Development
    </text>
    
    <rect x="120" y="700" width="240" height="40" rx="5" fill="#10b98120" stroke="#10b981" stroke-width="1"/>
    <text x="240" y="725" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#047857">
      1. feature/new-feature
    </text>
    
    <line x1="240" y1="740" x2="240" y2="755" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
    
    <rect x="120" y="760" width="240" height="40" rx="5" fill="#10b98120" stroke="#10b981" stroke-width="1"/>
    <text x="240" y="785" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#047857">
      2. Create PR to main
    </text>
    
    <line x1="240" y1="800" x2="240" y2="815" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
    
    <rect x="120" y="820" width="240" height="40" rx="5" fill="#10b98120" stroke="#10b981" stroke-width="1"/>
    <text x="240" y="845" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#047857">
      3. Merge → main
    </text>
  </g>
  
  <g id="version-flow">
    <rect x="410" y="650" width="280" height="220" rx="8" fill="#f9fafb" stroke="#d1d5db" stroke-width="1"/>
    <text x="550" y="680" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#1f2937">
      Version Management
    </text>
    
    <rect x="430" y="700" width="240" height="40" rx="5" fill="#f59e0b20" stroke="#f59e0b" stroke-width="1"/>
    <text x="550" y="725" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#d97706">
      1. Run version-bump workflow
    </text>
    
    <line x1="550" y1="740" x2="550" y2="755" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
    
    <rect x="430" y="760" width="240" height="40" rx="5" fill="#f59e0b20" stroke="#f59e0b" stroke-width="1"/>
    <text x="550" y="785" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#d97706">
      2. package.json updated
    </text>
    
    <line x1="550" y1="800" x2="550" y2="815" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
    
    <rect x="430" y="820" width="240" height="40" rx="5" fill="#f59e0b20" stroke="#f59e0b" stroke-width="1"/>
    <text x="550" y="845" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#d97706">
      3. Manual deploy to dev
    </text>
  </g>
  
  <g id="hotfix-flow">
    <rect x="720" y="650" width="360" height="220" rx="8" fill="#fef2f2" stroke="#fca5a5" stroke-width="2"/>
    <text x="900" y="680" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#dc2626">
      Hotfix Process
    </text>
    
    <rect x="740" y="700" width="320" height="30" rx="5" fill="#ef444420" stroke="#ef4444" stroke-width="1"/>
    <text x="900" y="722" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#b91c1c">
      1. hotfix/bug → branch from production
    </text>
    
    <line x1="900" y1="730" x2="900" y2="740" stroke="#ef4444" stroke-width="2" marker-end="url(#arrowhead-red)"/>
    
    <rect x="740" y="740" width="320" height="30" rx="5" fill="#ef444420" stroke="#ef4444" stroke-width="1"/>
    <text x="900" y="762" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#b91c1c">
      2. Fix + npm version patch on hotfix branch
    </text>
    
    <line x1="900" y1="770" x2="900" y2="780" stroke="#ef4444" stroke-width="2" marker-end="url(#arrowhead-red)"/>
    
    <rect x="740" y="780" width="320" height="30" rx="5" fill="#ef444420" stroke="#ef4444" stroke-width="1"/>
    <text x="900" y="802" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#b91c1c">
      3. PR to production → auto deploy + tag
    </text>
    
    <line x1="900" y1="810" x2="900" y2="820" stroke="#ef4444" stroke-width="2" marker-end="url(#arrowhead-red)"/>
    
    <rect x="740" y="820" width="320" height="40" rx="5" fill="#ef444420" stroke="#ef4444" stroke-width="1"/>
    <text x="900" y="838" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#b91c1c">
      4. Backmerge: production → staging → main
    </text>
    <text x="900" y="853" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#991b1b">
      (Keep all branches in sync)
    </text>
  </g>
  
  <rect x="50" y="100" width="20" height="20" rx="3" fill="#10b981"/>
  <rect x="50" y="280" width="20" height="20" rx="3" fill="#3b82f6"/>
  <rect x="50" y="460" width="20" height="20" rx="3" fill="#8b5cf6"/>
</svg>

